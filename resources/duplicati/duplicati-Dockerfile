FROM lsioarmhf/duplicati

# Copy wrapper script to /usr/local/bin to allow invocation of the Duplicati CLI from anywhere using 
# the Linux-friendly "duplicati-cli" instead of the clumsier "mono /apps/duplicati/Duplicati.CommandLine.exe"
COPY ./duplicati-cli /usr/local/bin
COPY ./run-backups.sh /usr/local/bin

ENV TARGET_URL $TARGET_URL
ENV PASSPHRASE $PASSPHRASE

CMD /usr/local/bin/run-backups
